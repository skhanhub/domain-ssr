# domain-ssr

This project demonstrates how to server-side render a react application using nodejs and express.

The application uses the following technologies:

- Backend: NodeJs with an ExpressJs server
- Frontend: ReactJs with server-side rendering
- Database: MongoDB

<img src="images/domain-ssr.PNG">

## Getting Started

This project requirs MongoDB.

Set the following environment variables:

```
-  SESSION_SECRET: Session secrect (mandatory)
-  APP_PORT: Express API port (default to 3001)
-  MONGODB_URI: MongoDb connection string (default to mongodb://localhost:27017/domain)
```

run the server

```bash
npm install
npm start
```

The server runs on port `3001` by default.

There are three routes:

```
- http://localhost:3001/                    - homepage
- http://localhost:3001/update              - accepts POST requests for updating individual fields (data format: suburb=Pyrmont)
- http://localhost:3001/submit              - accepts POST requests for updating a document (data format: givenName=Sam&surname=Fairfax&email=sam.fairfax%40fairfaxmedia.com.au)
```

POST data will come in with a `application/x-www-form-urlencoded`

## Scripts

```
- npm run lint             - will run the linter checks
- npm run lint:fix         - will fix the linter problems
- npm test                 - will run all the tests
- npm run coverage         - will generate code coverage reports
- npm run dev              - will run the dev server
- npm start                - will start the production server
```

## Project Structure

### Overall Structure

### Server Structure

1. The `tests` directory contains all the unit and integration tests for the Backend server.
2. The `src` directory contains the route handler, the main app.ts and services.
3. The `logs` directory contains the access.log.
4. The `src/public` directory contains all the static files generated by webpack build.

## Development

This project uses eslint to detect suspicious code in JavaScript files. Visit https://eslint.org/ for details

### Testing

This project uses jest and supertest for testing.
Visit https://jestjs.io/ and https://www.npmjs.com/package/supertest for details.

To execute tests:

```bash
npm test
```

To calculate coverage:

```bash
npm run coverage
```

The coverage reports will be in the `coverage` folder

## Future Improvements

1. More unit tests.

## FAQ

## Credits

Written by Shahriar Hasan Khan
Contact: shahriar27@hotmail.com
